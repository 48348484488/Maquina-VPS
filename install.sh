clear && echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && echo "  ğŸš€ Instalador Wine Pawn para VS Code v1.0" && echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && echo "" && sleep 1 && echo "ğŸ” [1/8] Verificando extensÃµes anteriores..." && EXT_FOUND=false && if code --list-extensions 2>/dev/null | grep -q "southclaws.vscode-pawn"; then EXT_FOUND=true; fi && if code --list-extensions 2>/dev/null | grep -q "sanaajani.taskrunnercode"; then EXT_FOUND=true; fi && if [ "$EXT_FOUND" = true ]; then echo "ğŸ—‘ï¸  Removendo extensÃµes antigas..." && code --uninstall-extension southclaws.vscode-pawn >/dev/null 2>&1 && code --uninstall-extension sanaajani.taskrunnercode >/dev/null 2>&1 && echo "âœ“ ExtensÃµes removidas" && sleep 1; else echo "âœ“ Nenhuma extensÃ£o anterior detectada"; fi && sleep 1 && echo "" && echo "ğŸ§¹ [2/8] Limpando diretÃ³rio de trabalho..." && sudo rm -rf pawno pawncc gamemodes .vscode 2>/dev/null && (shopt -s dotglob nullglob; for item in *; do [ "$item" != ".git" ] && sudo rm -rf "$item" 2>/dev/null; done) && echo "âœ“ DiretÃ³rio limpo com sucesso" && sleep 1 && echo "" && echo "ğŸ· [3/8] Instalando Wine 32-bit (2-5 minutos)..." && echo "" && echo "â³ Aguarde... Este processo pode demorar." && echo "" && (sudo apt remove --purge wine wine32 wine64 -y >/dev/null 2>&1; sudo apt autoremove -y >/dev/null 2>&1; rm -rf ~/.wine; sudo dpkg --add-architecture i386 >/dev/null 2>&1; sudo apt update >/dev/null 2>&1; sudo groupadd -f kvm >/dev/null 2>&1; sudo apt install -y qemu-kvm libvirt-daemon-system virtinst >/dev/null 2>&1; sudo mkdir -pm755 /etc/apt/keyrings >/dev/null 2>&1; sudo wget -q -O /etc/apt/keyrings/winehq-archive.key https://dl.winehq.org/wine-builds/winehq.key; sudo wget -q -NP /etc/apt/sources.list.d/ https://dl.winehq.org/wine-builds/ubuntu/dists/jammy/winehq-jammy.sources; sudo apt update >/dev/null 2>&1; sudo apt install --install-recommends winehq-stable -y >/dev/null 2>&1; WINE_INSTALL_STATUS=$?; mkdir -p /tmp/runtime-codespace; chmod 700 /tmp/runtime-codespace; export XDG_RUNTIME_DIR=/tmp/runtime-codespace; export WINEARCH=win32; export WINEPREFIX=~/.wine; export WINEDEBUG=-all; export DISPLAY=:0; wineboot -u >/dev/null 2>&1; grep -q "WINEARCH=win32" ~/.bashrc || echo -e "\n# ConfiguraÃ§Ã£o Wine 32-bit\nexport XDG_RUNTIME_DIR=/tmp/runtime-codespace\nexport WINEARCH=win32\nexport WINEPREFIX=~/.wine\nexport WINEDEBUG=-all\nexport DISPLAY=:0" >> ~/.bashrc; source ~/.bashrc; echo ""; if command -v wine >/dev/null 2>&1; then WINE_VERSION=$(wine --version 2>/dev/null); echo "âœ“ Wine instalado com sucesso [$WINE_VERSION]"; else echo "âŒ Erro na instalaÃ§Ã£o do Wine (cÃ³digo: $WINE_INSTALL_STATUS)"; echo "   PossÃ­veis causas:"; echo "   - Sistema nÃ£o Ã© Ubuntu/Debian"; echo "   - RepositÃ³rio jammy incompatÃ­vel"; echo "   - Falta de espaÃ§o em disco"; fi); sleep 1 && echo "" && echo "ğŸ“¦ [4/8] Instalando dependÃªncias adicionais..." && sudo apt install -y unzip zip wget python3-pip >/dev/null 2>&1 && if command -v unzip >/dev/null && command -v zip >/dev/null && command -v wget >/dev/null; then echo "âœ“ DependÃªncias instaladas [unzip, zip, wget, pip]"; else echo "âŒ Erro ao instalar dependÃªncias"; exit 1; fi && sleep 1 && echo "" && echo "â¬‡ï¸  [5/8] Baixando compilador Pawn Wine..." && wget -q --show-progress https://github.com/48348484488/VSCODE-PAWN-COMPILER-FOR-ANDROID---WINE/raw/4d017d3abe36737751a2f0fc4b59ef1c6ce50555/pawnc-3.10.10-wine.zip 2>&1 | grep -v "%" | tail -1 && if [ -f "pawnc-3.10.10-wine.zip" ]; then FILE_SIZE=$(du -h pawnc-3.10.10-wine.zip | cut -f1); echo "âœ“ Download concluÃ­do [$FILE_SIZE]"; else echo "âŒ Erro no download do compilador"; echo "   Tentando download alternativo..."; wget --no-check-certificate -q --show-progress https://github.com/48348484488/VSCODE-PAWN-COMPILER-FOR-ANDROID---WINE/raw/4d017d3abe36737751a2f0fc4b59ef1c6ce50555/pawnc-3.10.10-wine.zip 2>&1 | grep -v "%" | tail -1; if [ -f "pawnc-3.10.10-wine.zip" ]; then echo "âœ“ Download alternativo OK"; else echo "âŒ Falha total no download"; exit 1; fi; fi && sleep 1 && echo "" && echo "ğŸ“‚ [6/8] Extraindo compilador Pawn..." && sudo rm -rf pawncc pawno gamemodes 2>/dev/null && if [ -f "pawnc-3.10.10-wine.zip" ]; then unzip -q -o pawnc-3.10.10-wine.zip && rm -rf pawnc-3.10.10-wine.zip pawnc-3.10.10-wine.zip.*; if [ -d "pawno" ] || [ -d "pawncc" ]; then echo "âœ“ Compilador extraÃ­do com sucesso"; else echo "âŒ Erro na extraÃ§Ã£o - pastas nÃ£o foram criadas"; exit 1; fi; else echo "âŒ Arquivo pawnc-3.10.10-wine.zip nÃ£o existe"; exit 1; fi && sleep 1 && echo "" && echo "âš™ï¸  [7/8] Configurando ambiente de desenvolvimento..." && wget -q https://github.com/48348484488/VSCODE-PAWN-COMPILER-FOR-ANDROID---WINE/raw/4d017d3abe36737751a2f0fc4b59ef1c6ce50555/task.zip && if [ -f "task.zip" ]; then unzip -q -o task.zip && rm -f task.zip && mv vscode .vscode 2>/dev/null; fi && if [ -d ".vscode" ] && [ -f ".vscode/tasks.json" ]; then echo "âœ“ Ambiente configurado [tasks.json criado]"; else echo "âŒ Erro na configuraÃ§Ã£o do ambiente"; exit 1; fi && sleep 1 && echo "" && echo "ğŸ”Œ [8/8] Instalando extensÃµes do VS Code..." && code --install-extension southclaws.vscode-pawn >/dev/null 2>&1 && code --install-extension sanaajani.taskrunnercode >/dev/null 2>&1 && sleep 2 && EXT_PAWN=$(code --list-extensions 2>/dev/null | grep -c "southclaws.vscode-pawn") && EXT_TASK=$(code --list-extensions 2>/dev/null | grep -c "sanaajani.taskrunnercode") && TOTAL_EXT=$((EXT_PAWN + EXT_TASK)) && if [ "$TOTAL_EXT" -eq 2 ]; then echo "âœ“ ExtensÃµes instaladas [2/2 confirmadas]"; elif [ "$TOTAL_EXT" -eq 1 ]; then echo "âš ï¸  ExtensÃµes parcialmente instaladas [1/2]"; echo "âš ï¸  SoluÃ§Ã£o: Atualize a pÃ¡gina (F5) e tente novamente"; else echo "âŒ Erro ao instalar extensÃµes"; echo "âŒ SoluÃ§Ã£o: Atualize a pÃ¡gina (F5) e execute o script novamente"; echo "   As extensÃµes podem nÃ£o ter sido instaladas devido a:"; echo "   - Problemas temporÃ¡rios de conexÃ£o"; echo "   - Cache do VS Code desatualizado"; echo "   - Marketplace momentaneamente indisponÃ­vel"; fi && sleep 2 && clear && echo "" && echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && echo "  âœ¨ RelatÃ³rio de InstalaÃ§Ã£o Completo" && echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && echo "" && echo "ğŸ“Š COMPONENTES DO SISTEMA:" && echo "" && if command -v wine >/dev/null 2>&1; then WINE_VER=$(wine --version 2>/dev/null | head -n1); WINE_ARCH="win32"; echo "  âœ… Wine: $WINE_VER"; echo "     â””â”€ Arquitetura: $WINE_ARCH"; echo "     â””â”€ Prefix: ~/.wine"; echo "     â””â”€ Status: Configurado"; else echo "  âŒ Wine: FALHA NA INSTALAÃ‡ÃƒO"; fi && echo "" && if [ -d "pawncc" ]; then PAWNCC_SIZE=$(du -sh pawncc 2>/dev/null | cut -f1); echo "  âœ… Compilador Pawn (Wine)"; echo "     â””â”€ LocalizaÃ§Ã£o: $(pwd)/pawncc"; echo "     â””â”€ Tamanho: $PAWNCC_SIZE"; echo "     â””â”€ Tipo: Wine executÃ¡vel"; elif [ -d "pawno" ]; then PAWNO_SIZE=$(du -sh pawno 2>/dev/null | cut -f1); echo "  âœ… Compilador Pawn (Wine)"; echo "     â””â”€ LocalizaÃ§Ã£o: $(pwd)/pawno"; echo "     â””â”€ Tamanho: $PAWNO_SIZE"; echo "     â””â”€ Tipo: Wine executÃ¡vel"; else echo "  âŒ Compilador Pawn: FALHA NA INSTALAÃ‡ÃƒO"; fi && echo "" && if command -v code >/dev/null 2>&1; then VSCODE_VER=$(code --version 2>/dev/null | head -n1); echo "  âœ… Visual Studio Code: $VSCODE_VER"; else echo "  âŒ VS Code: NÃ£o detectado"; fi && echo "" && echo "ğŸ”Œ EXTENSÃ•ES INSTALADAS:" && echo "" && code --list-extensions 2>/dev/null | grep "southclaws.vscode-pawn" >/dev/null && echo "  âœ… southclaws.vscode-pawn (Pawn Language Support)" || echo "  âŒ southclaws.vscode-pawn (NÃƒO INSTALADA - Atualize a pÃ¡gina)" && code --list-extensions 2>/dev/null | grep "sanaajani.taskrunnercode" >/dev/null && echo "  âœ… sanaajani.taskrunnercode (Task Runner)" || echo "  âŒ sanaajani.taskrunnercode (NÃƒO INSTALADA - Atualize a pÃ¡gina)" && echo "" && echo "ğŸ“
